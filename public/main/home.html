<html class="mdl-js">

<head>

    <title>Thanks for Sharing</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="https://verycoolthanksforsharing.firebaseapp.com/index.css">
    <link rel="stylesheet" type="text/css" href="https://verycoolthanksforsharing.firebaseapp.com/all.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="icon" href="https://verycoolmathgames.github.io/images/verycoolmathgameslogolight.jpg" type="image/x-icon">

    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script defer="" src="https://code.getmdl.io/1.1.3/material.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>

    <script>

        firebase.initializeApp({
            apiKey: "AIzaSyCxRTkWjoToUoNsM8Rm6zPwiJBG_JCB4fo",
            authDomain: "verycoolthanksforsharing.firebaseapp.com",
            databaseURL: "https://verycoolthanksforsharing.firebaseio.com",
            projectId: "verycoolthanksforsharing",
            storageBucket: "verycoolthanksforsharing.appspot.com",
            messagingSenderId: "78626384450",
            appId: "1:78626384450:web:5c1a5470485502ab"
        });

        var user = firebase.auth().currentUser;
        var db = firebase.firestore();
        db.enablePersistence().catch(function (err) {
                if (err.code == 'failed-precondition') {
                    // Multiple tabs open, persistence can only be enabled
                    // in one tab at a a time.
                    // ...
                } else if (err.code == 'unimplemented') {
                    // The current browser does not support all of the
                    // features required to enable persistence
                    // ...
                }
            });

        function redirect(pagePath) {
            if (pagePath === "signout") {
                firebase.auth().signOut();
                window.location.replace("https://verycoolmathgames.github.io");
            } else {
                var urlParams = new URLSearchParams(window.location.search);
                var URLEmail = urlParams.get('email').toString();
                var URLUsername = urlParams.get('username').toString();
                var URLPassword = urlParams.get('password').toString();
                var mode = urlParams.get('mode').toString();

                window.location.replace(pagePath + "?email=" + URLEmail + "&username=" + URLUsername + "&password=" + URLPassword + "&mode=" + mode);
            };
        };

        window.onload = function () {
            var urlParams = new URLSearchParams(window.location.search);
            var URLEmail = urlParams.get('email');
            var URLUsername = urlParams.get('username').toString()
            var URLPassword = urlParams.get('password');
            var mode = urlParams.get("darkmode");
            if (mode == "dark") {
                document.getElementByTagName("html").id = "dark";
            }
            firebase.auth().signInWithEmailAndPassword(URLEmail, URLPassword);
            setTimeout(function () {
                document.getElementById("2").src = " https://ickyalphanumericwebpages--roycea.repl.co/?uname=" + URLUsername + "&rname=Website&enSubmit=Enter";
            }, 3000);
        };

        function getdisplayName() {
            var urlParams = new URLSearchParams(window.location.search);
            var URLEmail = urlParams.get('email');
            var URLPassword = urlParams.get('password');
            firebase.auth().signInWithEmailAndPassword(email, password).then(function () {
                var user = firebase.auth().currentUser;
                var uid = user.uid;
                var users = db.collection("users");

                users.doc(uid).get().then(function (doc) {
                    var displayName = doc.data().displayName;
                    var displayName = doc.data().displayName.toString();
                    var username = displayName.toString();
                    return username;
                });
            });
        };

        function email() {
            var urlParams = new URLSearchParams(window.location.search);
            var URLEmail = urlParams.get('email').toString();

            return URLEmail;
        };

        function password() {
            var urlParams = new URLSearchParams(window.location.search);
            var URLPassword = urlParams.get('password').toString();

            return URLpassword;
        };

        var Announcements = db.collection("announcements").orderBy("number", "desc").limit(10);
        Announcements.get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                var date = doc.data().date;
                var text = doc.data().text;
                console.log(date[0] + "/" + date[1] + "/" + date[2] + ": " + text.toString());
                var announcement = document.createElement("div");
                announcement.innerHTML = date[1] + "/" + date[2] + "/" + date[0] + ": " + text.toString();
                announcement.className = "announcement";
                document.getElementById("announcements").appendChild(announcement);
            });
        });

    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-143389600-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-143389600-1');
    </script>


    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" type="text/css" href="all.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="icon" href="https://verycoolmathgames.github.io/images/verycoolmathgameslogolight.jpg" type="image/x-icon">

    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script defer="" src="https://code.getmdl.io/1.1.3/material.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>

    <script>

        firebase.initializeApp({
            apiKey: "AIzaSyCxRTkWjoToUoNsM8Rm6zPwiJBG_JCB4fo",
            authDomain: "verycoolthanksforsharing.firebaseapp.com",
            databaseURL: "https://verycoolthanksforsharing.firebaseio.com",
            projectId: "verycoolthanksforsharing",
            storageBucket: "verycoolthanksforsharing.appspot.com",
            messagingSenderId: "78626384450",
            appId: "1:78626384450:web:5c1a5470485502ab"
        });

        var user = firebase.auth().currentUser;
        var db = firebase.firestore();
        db.enablePersistence().catch(function (err) {
                if (err.code == 'failed-precondition') {
                    // Multiple tabs open, persistence can only be enabled
                    // in one tab at a a time.
                    // ...
                } else if (err.code == 'unimplemented') {
                    // The current browser does not support all of the
                    // features required to enable persistence
                    // ...
                }
            });

        function redirect(pagePath) {
            if (pagePath === "signout") {
                firebase.auth().signOut();
                window.location.replace("https://verycoolmathgames.github.io");
            } else {
                var urlParams = new URLSearchParams(window.location.search);
                var URLEmail = urlParams.get('email').toString();
                var URLUsername = urlParams.get('username').toString();
                var URLPassword = urlParams.get('password').toString();
                var mode = urlParams.get('mode').toString();

                window.location.replace(pagePath + "?email=" + URLEmail + "&username=" + URLUsername + "&password=" + URLPassword + "&mode=" + mode);
            };
        };

        window.onload = function () {
            var urlParams = new URLSearchParams(window.location.search);
            var URLEmail = urlParams.get('email');
            var URLPassword = urlParams.get('password');
            var mode = urlParams.get("darkmode");
            if (mode == "dark") {
                document.getElementByTagName("html").id = "dark";
            }
            firebase.auth().signInWithEmailAndPassword(URLEmail, URLPassword);
        };

        function getdisplayName() {
            var urlParams = new URLSearchParams(window.location.search);
            var URLEmail = urlParams.get('email');
            var URLPassword = urlParams.get('password');
            firebase.auth().signInWithEmailAndPassword(email, password).then(function () {
                var user = firebase.auth().currentUser;
                var uid = user.uid;
                var users = db.collection("users");

                users.doc(uid).get().then(function (doc) {
                    var displayName = doc.data().displayName;
                    var displayName = doc.data().displayName.toString();
                    var username = displayName.toString();
                    return username;
                });
            });
        };

        function email() {
            var urlParams = new URLSearchParams(window.location.search);
            var URLEmail = urlParams.get('email').toString();

            return URLEmail;
        };

        function password() {
            var urlParams = new URLSearchParams(window.location.search);
            var URLPassword = urlParams.get('password').toString();

            return URLpassword;
        };

        var Announcements = db.collection("announcements").orderBy("number", "desc").limit(10);
        Announcements.get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                var date = doc.data().date;
                var text = doc.data().text;
                console.log(date[0] + "/" + date[1] + "/" + date[2] + ": " + text.toString());
                var announcement = document.createElement("div");
                announcement.innerHTML = date[1] + "/" + date[2] + "/" + date[0] + ": " + text.toString();
                announcement.className = "announcement";
                document.getElementById("announcements").appendChild(announcement);
            });
        });

    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-143389600-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-143389600-1');
    </script>

    <style>
        #announcements {
            float: left;
            position: absolute;
            z-index: 1;
            height: 1200px;
            width: 18%;
        }
    
        .announcement {
            border-top: 5px solid #31a4e1ff;
            background-color: white;
            color: black;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            width: 100%;
            float: right;
            margin-right: 2px;
            text-align: center;
            line-height: 50px;
            font-size: 30px;
            margin-bottom: 5%;
        }
    
        .flex-container {
            display: flex;
            align-items: stretch;
            margin-left: 19%;
            margin-right: 18%;
            margin-bottom: 1%;
            flex-wrap: wrap;
            flex-direction: row-reverse;
        }
    
        .flex-container>div {
            background-color: #31a4e1ff;
            color: white;
            width: 100px;
            margin: 10px;
            text-align: center;
            line-height: 100px;
            font-size: 15px;
            border-radius: 14px;
        }
